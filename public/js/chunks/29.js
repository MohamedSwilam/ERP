(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"/fgq":function(t,e,o){"use strict";o("jAk/")},"1w2d":function(t,e,o){"use strict";var r={components:{BAvatar:o("G/QR").a},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},s=(o("MOdh"),o("KHd+")),a=Object(s.a)(r,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"toastification"},[o("div",{staticClass:"d-flex align-items-start"},[o("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[o("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),t._v(" "),o("div",{staticClass:"d-flex flex-grow-1"},[o("div",[t.title?o("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),t.text?o("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),t._v(" "),o("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():o("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])}),[],!1,null,"13ed5408",null);e.a=a.exports},"4cv3":function(t,e,o){"use strict";var r={bind:function(t,e){var o={event:"mousedown",transition:600};!function(t,e){t.forEach((function(t){isNaN(Number(t))?e.event=t:e.transition=t}))}(Object.keys(e.modifiers),o),t.addEventListener(o.event,(function(r){!function(t,e){var r=e,n=parseInt(getComputedStyle(r).borderWidth.replace("px","")),i=r.getBoundingClientRect(),l=i.left,u=i.top,c=r.offsetWidth,d=r.offsetHeight,p=t.clientX-l,m=t.clientY-u,f=Math.max(p,c-p),v=Math.max(m,d-m),b=window.getComputedStyle(r),h=Math.sqrt(f*f+v*v),g=n>0?n:0,_=document.createElement("div"),y=document.createElement("div");y.className="ripple-container",_.className="ripple",_.style.marginTop="0px",_.style.marginLeft="0px",_.style.width="1px",_.style.height="1px",_.style.transition="all "+o.transition+"ms cubic-bezier(0.4, 0, 0.2, 1)",_.style.borderRadius="50%",_.style.pointerEvents="none",_.style.position="relative",_.style.zIndex=a,_.style.backgroundColor=s,y.style.position="absolute",y.style.left=0-g+"px",y.style.top=0-g+"px",y.style.height="0",y.style.width="0",y.style.pointerEvents="none",y.style.overflow="hidden";var x=r.style.position.length>0?r.style.position:getComputedStyle(r).position;"relative"!==x&&(r.style.position="relative");function C(){setTimeout((function(){_.style.backgroundColor="rgba(0, 0, 0, 0)"}),250),setTimeout((function(){y.parentNode.removeChild(y)}),850),e.removeEventListener("mouseup",C,!1),setTimeout((function(){for(var t=!0,e=0;e<r.childNodes.length;e++)"ripple-container"===r.childNodes[e].className&&(t=!1);t&&(r.style.position="static"!==x?x:"")}),o.transition+250)}y.appendChild(_),r.appendChild(y),_.style.marginLeft=p+"px",_.style.marginTop=m+"px",y.style.width=c+"px",y.style.height=d+"px",y.style.borderTopLeftRadius=b.borderTopLeftRadius,y.style.borderTopRightRadius=b.borderTopRightRadius,y.style.borderBottomLeftRadius=b.borderBottomLeftRadius,y.style.borderBottomRightRadius=b.borderBottomRightRadius,y.style.direction="ltr",setTimeout((function(){_.style.width=2*h+"px",_.style.height=2*h+"px",_.style.marginLeft=p-h+"px",_.style.marginTop=m-h+"px"}),0),"mousedown"===t.type?e.addEventListener("mouseup",C,!1):C()}(r,t,e.value)}));var s=e.value||r.color||"rgba(0, 0, 0, 0.35)",a=r.zIndex||"9999"}};e.a=r},DEUr:function(t,e,o){var r=o("o1KL");"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(r,s);r.locals&&(t.exports=r.locals)},GIXw:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,"#customer-form li,#customer-form ul{list-style-type:none;text-decoration:none}",""])},MOdh:function(t,e,o){"use strict";o("DEUr")},"jAk/":function(t,e,o){var r=o("GIXw");"string"==typeof r&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o("aET+")(r,s);r.locals&&(t.exports=r.locals)},o1KL:function(t,e,o){(t.exports=o("I1BE")(!1)).push([t.i,".toastification-close-icon[data-v-13ed5408],.toastification-title[data-v-13ed5408]{line-height:26px}.toastification-title[data-v-13ed5408]{color:inherit}",""])},onMI:function(t,e,o){"use strict";o.r(e);var r=o("4cv3"),s=o("1w2d");function a(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,r)}return o}function n(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?a(Object(o),!0).forEach((function(e){i(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function i(t,e,o){return e in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}var l={name:"EditCustomer",directives:{Ripple:r.a},data:function(){return{customer:{isCardLoading:!1,isLoading:!1,customer_types:[],form:{name:"",email:"",phone:"",national_id:"",date_of_birth:"",address:"",customer_type_id:null,last_follow_up:null,next_follow_up:null}}}},mounted:function(){this.browseCustomerTypes()},methods:{browseCustomerTypes:function(){var t=this;this.customer.isCardLoading=!0,this.$store.dispatch("seed/browseCustomerTypes","").then((function(e){t.customer.customer_types=t.reformatCustomerTypesData(e.data.data),t.viewCustomer()})).catch((function(e){console.error(e),t.customer.isCardLoading=!1}))},reformatCustomerTypesData:function(t){var e=[{value:null,text:"Select customer type"}];return t.forEach((function(t){e.push({value:t.id,text:t.type})})),e},viewCustomer:function(){var t=this;this.customer.isCardLoading=!0,this.$store.dispatch("customer/view",this.$route.params.id).then((function(e){t.customer.form=n(n({},e.data.data),{},{last_follow_up:e.data.data.last_follow_up?new Date("".concat(new Date(e.data.data.last_follow_up).toString().split("GMT")[0]," UTC")).toISOString().split(".")[0]:"",next_follow_up:e.data.data.next_follow_up?new Date("".concat(new Date(e.data.data.next_follow_up).toString().split("GMT")[0]," UTC")).toISOString().split(".")[0]:""}),t.customer.isCardLoading=!1})).catch((function(e){console.error(e),t.customer.isCardLoading=!1}))},editCustomer:function(){var t=this;this.customer.isLoading=!0,this.$store.dispatch("customer/update",{id:this.$route.params.id,data:this.customer.form}).then((function(e){t.customer.isLoading=!1,t.$toast({component:s.a,props:{title:"Success",icon:"CheckCircleIcon",text:e.data.message,variant:"success"}},{position:"bottom-right",timeout:5e3}),t.$router.push("/customers/".concat(e.data.data.id))})).catch((function(e){t.$refs.editCustomerForm.setErrors(e.response.data.errors),t.customer.isLoading=!1}))},reset:function(){this.viewCustomer()}}},u=(o("/fgq"),o("KHd+")),c=Object(u.a)(l,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("section",{attrs:{id:"customer-form"}},[o("b-container",[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-overlay",{attrs:{show:t.customer.isCardLoading,rounded:"sm"}},[o("b-card-actions",{ref:"editCustomer",attrs:{title:"Edit Customer","action-collapse":""}},[o("validation-observer",{ref:"editCustomerForm",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.handleSubmit;return[o("b-form",{on:{submit:function(e){return e.preventDefault(),r(t.editCustomer)}}},[o("b-row",[o("b-col",{attrs:{cols:"12"}},[o("b-form-group",{attrs:{label:"Customer Type","label-for":"customer_type_id"}},[o("validation-provider",{attrs:{rules:"required",name:"Customer Type",vid:"customer_type_id"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("b-input-group",{class:0===r.length?"":"is-invalid"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("feather-icon",{attrs:{icon:"UsersIcon"}})],1),t._v(" "),o("b-form-select",{attrs:{options:t.customer.customer_types,state:!(r.length>0)&&null},model:{value:t.customer.form.customer_type_id,callback:function(e){t.$set(t.customer.form,"customer_type_id",e)},expression:"customer.form.customer_type_id"}})],1),t._v(" "),o("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)],1),t._v(" "),o("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[o("b-form-group",{attrs:{label:"Name","label-for":"name"}},[o("validation-provider",{attrs:{rules:"required",name:"Name",vid:"name"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("b-input-group",{class:0===r.length?"":"is-invalid"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("feather-icon",{attrs:{icon:"UsersIcon"}})],1),t._v(" "),o("b-form-input",{attrs:{id:"name",state:!(r.length>0)&&null,placeholder:"Name"},model:{value:t.customer.form.name,callback:function(e){t.$set(t.customer.form,"name",e)},expression:"customer.form.name"}})],1),t._v(" "),o("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)],1),t._v(" "),o("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[o("b-form-group",{attrs:{label:"Email","label-for":"email"}},[o("validation-provider",{attrs:{rules:"email",name:"Email",vid:"email"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("b-input-group",{class:0===r.length?"":"is-invalid"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("feather-icon",{attrs:{icon:"MailIcon"}})],1),t._v(" "),o("b-form-input",{attrs:{id:"code",state:!(r.length>0)&&null,placeholder:"Email"},model:{value:t.customer.form.email,callback:function(e){t.$set(t.customer.form,"email",e)},expression:"customer.form.email"}})],1),t._v(" "),o("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)],1),t._v(" "),o("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[o("b-form-group",{attrs:{label:"Phone","label-for":"phone"}},[o("validation-provider",{attrs:{name:"Phone",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("b-input-group",{class:0===r.length?"":"is-invalid"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("feather-icon",{attrs:{icon:"PhoneIcon"}})],1),t._v(" "),o("b-form-input",{attrs:{type:"number",state:!(r.length>0)&&null,placeholder:"Phone"},model:{value:t.customer.form.phone,callback:function(e){t.$set(t.customer.form,"phone",e)},expression:"customer.form.phone"}})],1),t._v(" "),o("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)],1),t._v(" "),o("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[o("b-form-group",{attrs:{label:"Birth Date","label-for":"date_of_birth"}},[o("validation-provider",{attrs:{name:"Birth Date",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("b-input-group",{class:0===r.length?"":"is-invalid"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("feather-icon",{attrs:{icon:"CalendarIcon"}})],1),t._v(" "),o("b-form-input",{attrs:{type:"date",state:!(r.length>0)&&null,placeholder:"Birth Date"},model:{value:t.customer.form.date_of_birth,callback:function(e){t.$set(t.customer.form,"date_of_birth",e)},expression:"customer.form.date_of_birth"}})],1),t._v(" "),o("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)],1),t._v(" "),o("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[o("b-form-group",{attrs:{label:"National ID","label-for":"national_id"}},[o("validation-provider",{attrs:{name:"National ID",rules:"length:14"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("b-input-group",{class:0===r.length?"":"is-invalid"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("feather-icon",{attrs:{icon:"CreditCardIcon"}})],1),t._v(" "),o("b-form-input",{attrs:{state:!(r.length>0)&&null,placeholder:"National ID"},model:{value:t.customer.form.national_id,callback:function(e){t.$set(t.customer.form,"national_id",e)},expression:"customer.form.national_id"}})],1),t._v(" "),o("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)],1),t._v(" "),o("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[o("b-form-group",{attrs:{label:"Address","label-for":"address"}},[o("validation-provider",{attrs:{name:"Address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("b-input-group",{class:0===r.length?"":"is-invalid"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("feather-icon",{attrs:{icon:"HomeIcon"}})],1),t._v(" "),o("b-form-input",{attrs:{state:!(r.length>0)&&null,placeholder:"Address"},model:{value:t.customer.form.address,callback:function(e){t.$set(t.customer.form,"address",e)},expression:"customer.form.address"}})],1),t._v(" "),o("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)],1),t._v(" "),o("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[o("b-form-group",{attrs:{label:"Last Follow Up","label-for":"last_follow_up"}},[o("validation-provider",{attrs:{name:"Last Follow Up",rules:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("b-input-group",{class:0===r.length?"":"is-invalid"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("feather-icon",{attrs:{icon:"UserCheckIcon"}})],1),t._v(" "),o("b-form-input",{attrs:{state:!(r.length>0)&&null,type:"datetime-local",placeholder:"Last follow up"},model:{value:t.customer.form.last_follow_up,callback:function(e){t.$set(t.customer.form,"last_follow_up",e)},expression:"customer.form.last_follow_up"}})],1),t._v(" "),o("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)],1),t._v(" "),o("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[o("b-form-group",{attrs:{label:"Next Follow Up","label-for":"next_follow_up"}},[o("validation-provider",{attrs:{name:"Next Follow Up",rules:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("b-input-group",{class:0===r.length?"":"is-invalid"},[o("b-input-group-prepend",{attrs:{"is-text":""}},[o("feather-icon",{attrs:{icon:"UserCheckIcon"}})],1),t._v(" "),o("b-form-input",{attrs:{state:!(r.length>0)&&null,type:"datetime-local",placeholder:"Next follow up"},model:{value:t.customer.form.next_follow_up,callback:function(e){t.$set(t.customer.form,"next_follow_up",e)},expression:"customer.form.next_follow_up"}})],1),t._v(" "),o("small",{staticClass:"text-danger"},[t._v(t._s(r[0]))])]}}],null,!0)})],1)],1),t._v(" "),o("b-col",{attrs:{cols:"12"}},[o("b-container",[o("b-row",{staticClass:"mt-1",attrs:{"align-h":"center"}},[o("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1",attrs:{type:"submit",disabled:t.customer.isLoading,variant:"primary"}},[t.customer.isLoading?[o("b-spinner",{attrs:{small:""}}),t._v("\n                            Loading...\n                          ")]:[o("feather-icon",{staticClass:"mr-50",attrs:{icon:"SaveIcon"}}),t._v(" "),o("span",{staticClass:"align-middle"},[t._v("Submit")])]],2),t._v(" "),o("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"warning"}},[o("feather-icon",{staticClass:"mr-50",attrs:{icon:"RefreshCcwIcon"}}),t._v(" "),o("span",{staticClass:"align-middle"},[t._v("Reset")])],1)],1)],1)],1)],1)],1)]}}])})],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=c.exports}}]);