(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"1w2d":function(t,e,r){"use strict";var o={components:{BAvatar:r("G/QR").a},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},s=(r("MOdh"),r("KHd+")),a=Object(s.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"toastification"},[r("div",{staticClass:"d-flex align-items-start"},[r("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[r("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),t._v(" "),r("div",{staticClass:"d-flex flex-grow-1"},[r("div",[t.title?r("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),t.text?r("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),t._v(" "),r("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():r("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])}),[],!1,null,"13ed5408",null);e.a=a.exports},"4cv3":function(t,e,r){"use strict";var o={bind:function(t,e){var r={event:"mousedown",transition:600};!function(t,e){t.forEach((function(t){isNaN(Number(t))?e.event=t:e.transition=t}))}(Object.keys(e.modifiers),r),t.addEventListener(r.event,(function(o){!function(t,e){var o=e,i=parseInt(getComputedStyle(o).borderWidth.replace("px","")),n=o.getBoundingClientRect(),l=n.left,d=n.top,c=o.offsetWidth,p=o.offsetHeight,u=t.clientX-l,m=t.clientY-d,f=Math.max(u,c-u),v=Math.max(m,p-m),b=window.getComputedStyle(o),g=Math.sqrt(f*f+v*v),_=i>0?i:0,h=document.createElement("div"),x=document.createElement("div");x.className="ripple-container",h.className="ripple",h.style.marginTop="0px",h.style.marginLeft="0px",h.style.width="1px",h.style.height="1px",h.style.transition="all "+r.transition+"ms cubic-bezier(0.4, 0, 0.2, 1)",h.style.borderRadius="50%",h.style.pointerEvents="none",h.style.position="relative",h.style.zIndex=a,h.style.backgroundColor=s,x.style.position="absolute",x.style.left=0-_+"px",x.style.top=0-_+"px",x.style.height="0",x.style.width="0",x.style.pointerEvents="none",x.style.overflow="hidden";var y=o.style.position.length>0?o.style.position:getComputedStyle(o).position;"relative"!==y&&(o.style.position="relative");function C(){setTimeout((function(){h.style.backgroundColor="rgba(0, 0, 0, 0)"}),250),setTimeout((function(){x.parentNode.removeChild(x)}),850),e.removeEventListener("mouseup",C,!1),setTimeout((function(){for(var t=!0,e=0;e<o.childNodes.length;e++)"ripple-container"===o.childNodes[e].className&&(t=!1);t&&(o.style.position="static"!==y?y:"")}),r.transition+250)}x.appendChild(h),o.appendChild(x),h.style.marginLeft=u+"px",h.style.marginTop=m+"px",x.style.width=c+"px",x.style.height=p+"px",x.style.borderTopLeftRadius=b.borderTopLeftRadius,x.style.borderTopRightRadius=b.borderTopRightRadius,x.style.borderBottomLeftRadius=b.borderBottomLeftRadius,x.style.borderBottomRightRadius=b.borderBottomRightRadius,x.style.direction="ltr",setTimeout((function(){h.style.width=2*g+"px",h.style.height=2*g+"px",h.style.marginLeft=u-g+"px",h.style.marginTop=m-g+"px"}),0),"mousedown"===t.type?e.addEventListener("mouseup",C,!1):C()}(o,t,e.value)}));var s=e.value||o.color||"rgba(0, 0, 0, 0.35)",a=o.zIndex||"9999"}};e.a=o},"6MKX":function(t,e,r){"use strict";r("YJtS")},"8JwS":function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,"#report-form li,#report-form ul{list-style-type:none;text-decoration:none}",""])},DEUr:function(t,e,r){var o=r("o1KL");"string"==typeof o&&(o=[[t.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(o,s);o.locals&&(t.exports=o.locals)},MOdh:function(t,e,r){"use strict";r("DEUr")},YEiI:function(t,e,r){"use strict";r.r(e);var o=r("4cv3"),s=r("1w2d"),a={name:"EditReport",directives:{Ripple:o.a},data:function(){return{report:{isCardLoading:!1,isLoading:!1,report_types:[],form:{start_date:"",end_date:"",total_messages:0,customer_numbers:"",follow_up:"",results:"",audience_description:"",title:""}}}},mounted:function(){this.viewReport()},methods:{viewReport:function(){var t=this;this.report.isCardLoading=!0,this.$store.dispatch("reports/view",this.$route.params.id).then((function(e){t.report.form=e.data.data,t.report.form.start_date=new Date("".concat(new Date(e.data.data.start_date).toString().split("GMT")[0]," UTC")).toISOString().split(".")[0],t.report.form.end_date=new Date("".concat(new Date(e.data.data.end_date).toString().split("GMT")[0]," UTC")).toISOString().split(".")[0],t.report.isCardLoading=!1})).catch((function(e){console.error(e),t.report.isCardLoading=!1}))},editReport:function(){var t=this;this.report.isLoading=!0,this.$store.dispatch("reports/update",{id:this.$route.params.id,data:this.report.form}).then((function(e){t.report.isLoading=!1,t.$toast({component:s.a,props:{title:"Success",icon:"CheckCircleIcon",text:e.data.message,variant:"success"}},{position:"bottom-right",timeout:5e3}),t.$router.push("/reports/".concat(e.data.data.id))})).catch((function(e){t.$refs.editReportForm.setErrors(e.response.data.errors),t.report.isLoading=!1}))},reset:function(){this.viewReport()}}},i=(r("6MKX"),r("KHd+")),n=Object(i.a)(a,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{attrs:{id:"report-form"}},[r("b-container",[r("b-row",[r("b-col",{attrs:{cols:"12"}},[r("b-overlay",{attrs:{show:t.report.isCardLoading,rounded:"sm"}},[r("b-card-actions",{ref:"editReport",attrs:{title:"Edit Report","action-collapse":""}},[r("validation-observer",{ref:"editReportForm",scopedSlots:t._u([{key:"default",fn:function(e){var o=e.handleSubmit;return[r("b-form",{on:{submit:function(e){return e.preventDefault(),o(t.editReport)}}},[r("b-row",[r("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[r("b-form-group",{attrs:{label:"Title","label-for":"title"}},[r("validation-provider",{attrs:{rules:"required",name:"Title",vid:"title"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("b-input-group",{class:0===o.length?"":"is-invalid"},[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("feather-icon",{attrs:{icon:"FileIcon"}})],1),t._v(" "),r("b-form-input",{attrs:{id:"title",state:!(o.length>0)&&null,placeholder:"Title"},model:{value:t.report.form.title,callback:function(e){t.$set(t.report.form,"title",e)},expression:"report.form.title"}})],1),t._v(" "),r("small",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)],1),t._v(" "),r("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[r("b-form-group",{attrs:{label:"Start Date","label-for":"start_date"}},[r("validation-provider",{attrs:{rules:"required",name:"Start Date",vid:"start_date"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("b-input-group",{class:0===o.length?"":"is-invalid"},[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("feather-icon",{attrs:{icon:"ClockIcon"}})],1),t._v(" "),r("b-form-input",{attrs:{id:"start_date",type:"datetime-local",state:!(o.length>0)&&null,placeholder:"Start date"},model:{value:t.report.form.start_date,callback:function(e){t.$set(t.report.form,"start_date",e)},expression:"report.form.start_date"}})],1),t._v(" "),r("small",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)],1),t._v(" "),r("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[r("b-form-group",{attrs:{label:"End Date","label-for":"end_date"}},[r("validation-provider",{attrs:{rules:"required",name:"End Date",vid:"end_date"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("b-input-group",{class:0===o.length?"":"is-invalid"},[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("feather-icon",{attrs:{icon:"ClockIcon"}})],1),t._v(" "),r("b-form-input",{attrs:{id:"end_date",type:"datetime-local",state:!(o.length>0)&&null,placeholder:"End date"},model:{value:t.report.form.end_date,callback:function(e){t.$set(t.report.form,"end_date",e)},expression:"report.form.end_date"}})],1),t._v(" "),r("small",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)],1),t._v(" "),r("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[r("b-form-group",{attrs:{label:"Total Messages","label-for":"total_messages"}},[r("validation-provider",{attrs:{rules:"required",name:"Total Messages",vid:"total_messages"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("b-input-group",{class:0===o.length?"":"is-invalid"},[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("feather-icon",{attrs:{icon:"MessageCircleIcon"}})],1),t._v(" "),r("b-form-input",{attrs:{id:"total_messages",type:"number",state:!(o.length>0)&&null,placeholder:"Total messages"},model:{value:t.report.form.total_messages,callback:function(e){t.$set(t.report.form,"total_messages",t._n(e))},expression:"report.form.total_messages"}})],1),t._v(" "),r("small",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)],1),t._v(" "),r("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[r("b-form-group",{attrs:{label:"Customer Numbers","label-for":"customer_numbers"}},[r("validation-provider",{attrs:{rules:"required",name:"Customer Numbers",vid:"customer_numbers"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("b-input-group",{class:0===o.length?"":"is-invalid"},[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("feather-icon",{attrs:{icon:"UsersIcon"}})],1),t._v(" "),r("b-form-textarea",{attrs:{id:"customer_numbers",placeholder:"Customer numbers",state:!(o.length>0)&&null,rows:"3"},model:{value:t.report.form.customer_numbers,callback:function(e){t.$set(t.report.form,"customer_numbers",e)},expression:"report.form.customer_numbers"}})],1),t._v(" "),r("small",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)],1),t._v(" "),r("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[r("b-form-group",{attrs:{label:"Follow Up","label-for":"follow_up"}},[r("validation-provider",{attrs:{rules:"required",name:"Follow Up",vid:"follow_up"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("b-input-group",{class:0===o.length?"":"is-invalid"},[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("feather-icon",{attrs:{icon:"RefreshCcwIcon"}})],1),t._v(" "),r("b-form-textarea",{attrs:{id:"follow_up",placeholder:"Follow up",state:!(o.length>0)&&null,rows:"3"},model:{value:t.report.form.follow_up,callback:function(e){t.$set(t.report.form,"follow_up",e)},expression:"report.form.follow_up"}})],1),t._v(" "),r("small",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)],1),t._v(" "),r("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[r("b-form-group",{attrs:{label:"Results","label-for":"results"}},[r("validation-provider",{attrs:{rules:"required",name:"Results",vid:"results"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("b-input-group",{class:0===o.length?"":"is-invalid"},[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("feather-icon",{attrs:{icon:"ClipboardIcon"}})],1),t._v(" "),r("b-form-textarea",{attrs:{id:"results",placeholder:"Results",state:!(o.length>0)&&null,rows:"3"},model:{value:t.report.form.results,callback:function(e){t.$set(t.report.form,"results",e)},expression:"report.form.results"}})],1),t._v(" "),r("small",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)],1),t._v(" "),r("b-col",{attrs:{lg:"6",md:"6",sm:"12",xs:"12"}},[r("b-form-group",{attrs:{label:"Audience Description","label-for":"audience_description"}},[r("validation-provider",{attrs:{rules:"required",name:"Audience Description",vid:"audience_description"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.errors;return[r("b-input-group",{class:0===o.length?"":"is-invalid"},[r("b-input-group-prepend",{attrs:{"is-text":""}},[r("feather-icon",{attrs:{icon:"ClipboardIcon"}})],1),t._v(" "),r("b-form-textarea",{attrs:{id:"audience_description",placeholder:"Audience Description",state:!(o.length>0)&&null,rows:"3"},model:{value:t.report.form.audience_description,callback:function(e){t.$set(t.report.form,"audience_description",e)},expression:"report.form.audience_description"}})],1),t._v(" "),r("small",{staticClass:"text-danger"},[t._v(t._s(o[0]))])]}}],null,!0)})],1)],1),t._v(" "),r("b-col",{attrs:{cols:"12"}},[r("b-container",[r("b-row",{staticClass:"mt-1",attrs:{"align-h":"center"}},[r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"mr-1",attrs:{type:"submit",disabled:t.report.isLoading,variant:"primary"}},[t.report.isLoading?[r("b-spinner",{attrs:{small:""}}),t._v("\n                            Loading...\n                          ")]:[r("feather-icon",{staticClass:"mr-50",attrs:{icon:"SaveIcon"}}),t._v(" "),r("span",{staticClass:"align-middle"},[t._v("Submit")])]],2),t._v(" "),r("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(186, 191, 199, 0.15)",expression:"'rgba(186, 191, 199, 0.15)'",modifiers:{400:!0}}],attrs:{variant:"warning"},on:{click:t.reset}},[r("feather-icon",{staticClass:"mr-50",attrs:{icon:"RefreshCcwIcon"}}),t._v(" "),r("span",{staticClass:"align-middle"},[t._v("Reset")])],1)],1)],1)],1)],1)],1)]}}])})],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=n.exports},YJtS:function(t,e,r){var o=r("8JwS");"string"==typeof o&&(o=[[t.i,o,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};r("aET+")(o,s);o.locals&&(t.exports=o.locals)},o1KL:function(t,e,r){(t.exports=r("I1BE")(!1)).push([t.i,".toastification-close-icon[data-v-13ed5408],.toastification-title[data-v-13ed5408]{line-height:26px}.toastification-title[data-v-13ed5408]{color:inherit}",""])}}]);