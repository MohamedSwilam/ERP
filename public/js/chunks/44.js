(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"1w2d":function(t,e,s){"use strict";var o={components:{BAvatar:s("G/QR").a},props:{variant:{type:String,default:"primary"},icon:{type:String,default:null},title:{type:String,default:null},text:{type:String,default:null},hideClose:{type:Boolean,default:!1}}},a=(s("MOdh"),s("KHd+")),i=Object(a.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"toastification"},[s("div",{staticClass:"d-flex align-items-start"},[s("b-avatar",{staticClass:"mr-75 flex-shrink-0",attrs:{variant:t.variant,size:"1.8rem"}},[s("feather-icon",{attrs:{icon:t.icon,size:"15"}})],1),t._v(" "),s("div",{staticClass:"d-flex flex-grow-1"},[s("div",[t.title?s("h5",{staticClass:"mb-0 font-weight-bolder toastification-title",class:"text-"+t.variant,domProps:{textContent:t._s(t.title)}}):t._e(),t._v(" "),t.text?s("small",{staticClass:"d-inline-block text-body",domProps:{textContent:t._s(t.text)}}):t._e()]),t._v(" "),s("span",{staticClass:"cursor-pointer toastification-close-icon ml-auto ",on:{click:function(e){return t.$emit("close-toast")}}},[t.hideClose?t._e():s("feather-icon",{staticClass:"text-body",attrs:{icon:"XIcon"}})],1)])],1)])}),[],!1,null,"13ed5408",null);e.a=i.exports},"4cv3":function(t,e,s){"use strict";var o={bind:function(t,e){var s={event:"mousedown",transition:600};!function(t,e){t.forEach((function(t){isNaN(Number(t))?e.event=t:e.transition=t}))}(Object.keys(e.modifiers),s),t.addEventListener(s.event,(function(o){!function(t,e){var o=e,r=parseInt(getComputedStyle(o).borderWidth.replace("px","")),n=o.getBoundingClientRect(),c=n.left,l=n.top,d=o.offsetWidth,p=o.offsetHeight,u=t.clientX-c,m=t.clientY-l,v=Math.max(u,d-u),f=Math.max(m,p-m),b=window.getComputedStyle(o),h=Math.sqrt(v*v+f*f),g=r>0?r:0,k=document.createElement("div"),y=document.createElement("div");y.className="ripple-container",k.className="ripple",k.style.marginTop="0px",k.style.marginLeft="0px",k.style.width="1px",k.style.height="1px",k.style.transition="all "+s.transition+"ms cubic-bezier(0.4, 0, 0.2, 1)",k.style.borderRadius="50%",k.style.pointerEvents="none",k.style.position="relative",k.style.zIndex=i,k.style.backgroundColor=a,y.style.position="absolute",y.style.left=0-g+"px",y.style.top=0-g+"px",y.style.height="0",y.style.width="0",y.style.pointerEvents="none",y.style.overflow="hidden";var x=o.style.position.length>0?o.style.position:getComputedStyle(o).position;"relative"!==x&&(o.style.position="relative");function _(){setTimeout((function(){k.style.backgroundColor="rgba(0, 0, 0, 0)"}),250),setTimeout((function(){y.parentNode.removeChild(y)}),850),e.removeEventListener("mouseup",_,!1),setTimeout((function(){for(var t=!0,e=0;e<o.childNodes.length;e++)"ripple-container"===o.childNodes[e].className&&(t=!1);t&&(o.style.position="static"!==x?x:"")}),s.transition+250)}y.appendChild(k),o.appendChild(y),k.style.marginLeft=u+"px",k.style.marginTop=m+"px",y.style.width=d+"px",y.style.height=p+"px",y.style.borderTopLeftRadius=b.borderTopLeftRadius,y.style.borderTopRightRadius=b.borderTopRightRadius,y.style.borderBottomLeftRadius=b.borderBottomLeftRadius,y.style.borderBottomRightRadius=b.borderBottomRightRadius,y.style.direction="ltr",setTimeout((function(){k.style.width=2*h+"px",k.style.height=2*h+"px",k.style.marginLeft=u-h+"px",k.style.marginTop=m-h+"px"}),0),"mousedown"===t.type?e.addEventListener("mouseup",_,!1):_()}(o,t,e.value)}));var a=e.value||o.color||"rgba(0, 0, 0, 0.35)",i=o.zIndex||"9999"}};e.a=o},DEUr:function(t,e,s){var o=s("o1KL");"string"==typeof o&&(o=[[t.i,o,""]]);var a={hmr:!0,transform:void 0,insertInto:void 0};s("aET+")(o,a);o.locals&&(t.exports=o.locals)},MOdh:function(t,e,s){"use strict";s("DEUr")},o1KL:function(t,e,s){(t.exports=s("I1BE")(!1)).push([t.i,".toastification-close-icon[data-v-13ed5408],.toastification-title[data-v-13ed5408]{line-height:26px}.toastification-title[data-v-13ed5408]{color:inherit}",""])},rwL3:function(t,e,s){"use strict";s.r(e);var o=s("1w2d"),a={name:"BrowseStocks",directives:{Ripple:s("4cv3").a},data:function(){return{stocks:{isLoading:!1,search:"",paginateOptions:[5,10,25,50,100,250],recordsPerPage:50,sort:{by:"",desc:!1,options:[{text:"Name",value:"name"},{text:"Quantity",value:"quantity"},{text:"Price Per Piece",value:"price_per_piece"},{text:"Sale Price",value:"sale_price"},{text:"Payment Type",value:"payment_type"},{text:"Total",value:"total"},{text:"Paid",value:"paid"},{text:"Created At",value:"created_at"}]},fields:[{key:"index",label:"#"},{key:"name",label:"Name"},{key:"quantity",label:"Quantity"},{key:"sale_price",label:"Sale Price"},{key:"total",label:"Total"},{key:"paid",label:"Paid"},{key:"created_at",label:"Created At"},"Action"],data:[],meta:{count:0,current_page:1,links:{},per_page:0,total:0,total_pages:0}}}},mounted:function(){this.browseStocks(this.stocks.meta.current_page)},methods:{browseStocks:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.stocks.isLoading=!0,this.$store.dispatch("stock/browse","?paginate=".concat(this.stocks.recordsPerPage,"&page=").concat(e,"&filter[search]=").concat(this.stocks.search,"&sort=").concat(this.stocks.sort.desc?"-":"").concat(this.stocks.sort.by)).then((function(e){t.stocks.data=e.data.data,t.stocks.meta=e.data.meta.pagination,t.stocks.isLoading=!1})).catch((function(e){console.error(e),t.stocks.isLoading=!1}))},deleteStock:function(t){var e=this;this.$bvModal.msgBoxConfirm("You will not be able to retrieve this again!",{title:"Are you sure?",size:"sm",okTitle:"Yes, Delete!",okVariant:"danger",cancelTitle:"Cancel",cancelVariant:"outline-primary",centered:!0}).then((function(s){s&&e.$store.dispatch("stock/delete",t.item.id).then((function(s){e.stocks.data=e.stocks.data.filter((function(e){return e.id!==t.item.id})),e.$toast({component:o.a,props:{title:"Success",icon:"CheckCircleIcon",text:s.data.message,variant:"success"}},{position:"bottom-right",timeout:5e3})})).catch((function(t){console.log(t)}))}))}}},i=s("KHd+"),r=Object(i.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("b-row",[s("b-col",{attrs:{cols:"12"}},[s("b-overlay",{attrs:{show:t.stocks.isLoading,rounded:"sm"}},[s("b-card-actions",{ref:"stockCard",attrs:{title:"Stocks List","action-collapse":""}},[s("b-row",[s("b-col",{attrs:{cols:"12","align-h":"center"}},[t.can("create_stock")?s("b-button",{directives:[{name:"ripple",rawName:"v-ripple.400",value:"rgba(255,255,255,0.15)",expression:"'rgba(255,255,255,0.15)'",modifiers:{400:!0}}],staticClass:"my-1",attrs:{size:"sm",variant:"primary",to:"/stocks/create"}},[s("feather-icon",{staticClass:"mr-50",attrs:{icon:"PlusIcon"}}),t._v(" "),s("span",{staticClass:"align-middle"},[t._v("Create Stock")])],1):t._e()],1),t._v(" "),s("b-col",{staticClass:"mb-2",attrs:{cols:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Sort","label-size":"sm","label-for":"sortBySelect"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-select",{staticClass:"w-75",attrs:{id:"sortBySelect",options:t.stocks.sort.options},on:{change:function(e){return t.browseStocks(1)}},scopedSlots:t._u([{key:"first",fn:function(){return[s("option",{attrs:{value:""}},[t._v("\n                        -- none --\n                      ")])]},proxy:!0}]),model:{value:t.stocks.sort.by,callback:function(e){t.$set(t.stocks.sort,"by",e)},expression:"stocks.sort.by"}}),t._v(" "),s("b-form-select",{staticClass:"w-25",attrs:{size:"sm",disabled:!t.stocks.sort.by},on:{change:function(e){return t.browseStocks(1)}},model:{value:t.stocks.sort.desc,callback:function(e){t.$set(t.stocks.sort,"desc",e)},expression:"stocks.sort.desc"}},[s("option",{domProps:{value:!1}},[t._v("\n                      Asc\n                    ")]),t._v(" "),s("option",{domProps:{value:!0}},[t._v("\n                      Desc\n                    ")])])],1)],1)],1),t._v(" "),s("b-col",{attrs:{cols:"6","align-h":"center"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Search","label-size":"sm","label-for":"search"}},[s("b-input-group",[s("b-input-group-prepend",{attrs:{"is-text":""}},[s("feather-icon",{attrs:{icon:"SearchIcon"}})],1),t._v(" "),s("b-form-input",{attrs:{id:"search",size:"sm",placeholder:"Search name"},on:{change:t.browseStocks},model:{value:t.stocks.search,callback:function(e){t.$set(t.stocks,"search",e)},expression:"stocks.search"}})],1)],1)],1),t._v(" "),s("b-col",{attrs:{cols:"12"}},[s("b-table",{attrs:{responsive:"",outlined:!0,items:t.stocks.data,fields:t.stocks.fields,"head-variant":"dark"},scopedSlots:t._u([{key:"cell(index)",fn:function(e){return[t._v("\n                  "+t._s(t.stocks.meta.current_page*t.stocks.recordsPerPage-t.stocks.recordsPerPage+e.index+1)+"\n                ")]}},{key:"cell(created_at)",fn:function(e){return[t._v("\n                  "+t._s(t._f("date")(e.item.created_at,!0))+" - "+t._s(t._f("time")(e.item.created_at))+"\n                ")]}},{key:"cell(action)",fn:function(e){return[s("span",{staticClass:"text-nowrap"},[t.can("view_stock")?s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-primary",modifiers:{hover:!0,"v-primary":!0}},{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"btn-icon rounded-circle",attrs:{title:"View Stock",variant:"primary",to:"/stocks/"+e.item.id}},[s("feather-icon",{attrs:{icon:"EyeIcon"}})],1):t._e(),t._v(" "),t.can("update_stock")?s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-warning",modifiers:{hover:!0,"v-warning":!0}},{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"btn-icon rounded-circle ml-1",attrs:{title:"Edit Stock",variant:"warning",to:"/stocks/"+e.item.id+"/edit"}},[s("feather-icon",{attrs:{icon:"EditIcon"}})],1):t._e(),t._v(" "),t.can("delete_stock")?s("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.v-danger",modifiers:{hover:!0,"v-danger":!0}},{name:"ripple",rawName:"v-ripple.400",value:"rgba(255, 255, 255, 0.15)",expression:"'rgba(255, 255, 255, 0.15)'",modifiers:{400:!0}}],staticClass:"btn-icon rounded-circle ml-1",attrs:{title:"Delete Stock",variant:"danger"},on:{click:function(s){return t.deleteStock(e)}}},[s("feather-icon",{attrs:{icon:"TrashIcon"}})],1):t._e()],1)]}}])})],1),t._v(" "),s("b-col",{staticClass:"my-1",attrs:{md:"2",sm:"4",xs:"4"}},[s("b-form-group",{staticClass:"mb-0"},[s("label",{staticClass:"d-inline-block text-sm-left mr-50"},[t._v("Per page")]),t._v(" "),s("b-form-select",{staticClass:"w-50",attrs:{id:"perPageSelect",size:"sm",options:t.stocks.paginateOptions},on:{change:function(e){return t.browseStocks(1)}},model:{value:t.stocks.recordsPerPage,callback:function(e){t.$set(t.stocks,"recordsPerPage",e)},expression:"stocks.recordsPerPage"}})],1)],1),t._v(" "),s("b-col",{staticClass:"my-1",attrs:{md:"10",sm:"8",xs:"8"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.stocks.meta.total,"per-page":t.stocks.recordsPerPage,align:"right","first-number":"","last-number":"","prev-class":"prev-item","next-class":"next-item"},on:{change:t.browseStocks},scopedSlots:t._u([{key:"prev-text",fn:function(){return[s("feather-icon",{attrs:{icon:"ChevronLeftIcon",size:"18"}})]},proxy:!0},{key:"next-text",fn:function(){return[s("feather-icon",{attrs:{icon:"ChevronRightIcon",size:"18"}})]},proxy:!0}]),model:{value:t.stocks.meta.current_page,callback:function(e){t.$set(t.stocks.meta,"current_page",e)},expression:"stocks.meta.current_page"}})],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=r.exports}}]);